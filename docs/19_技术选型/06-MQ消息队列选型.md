---
title: 06-MQ消息队列选型
date: 2020-6-13 23:18:32
tags:
- 框架
- 选型
- 消息队列
categories: 
- 19_技术选型
---

### 消息队列对比

消息队列有 ActiveMQ、ZeroMQ、RabbitMQ、RocketMQ、Kafka，其中 ZeroMQ 太过轻量，主要用于学习，实际是不会应用到生产，所以主要对比 Kafka、RocketMQ、RabbitMQ、ActiveMQ 这四种 MQ。

![image-20230527171951799](https://jy-imgs.oss-cn-beijing.aliyuncs.com/img/20230527171952.png)

### 消息队列选型


Kafka 和 RocketMQ 都支持 `10w 级别的高吞吐量`。

Kafka 一开始的目的就是用于`日志收集和传输`，适合有大量数据产生的互联网业务，特别是大数据领域的实时计算、日志采集等场景，用 Kafka 绝对没错，社区活跃度高，业内标准。

RocketMQ 特别适用于`金融互联网领域这类对于可靠性要求很高的场景`，比如订单交易等，而且 RocketMQ 是阿里出品的，经历过那么多次淘宝双十一的考验，大品牌，在稳定性值得信赖。但如果阿里不再维护这个技术了，社区有可能突然黄掉的风险。因此如果公司对自己的技术实力有自信，基础架构研发实力较强，推荐用 RocketMQ。

RabbitMQ 适用于公司对外提供能力，可能会有很多主题接入的中台业务场景，毕竟它是百万级主题数的。它的时效性是毫秒级的，但实际毫秒级和微秒级在感知上没有什么太大的区别，所以它的这一大优点并不太会作为考量标准。同时，它的功能是比较完善的，开源社区活跃度高，能解决开发中遇到的bug，所以`万级别数据量业务场景的小公司可以优先选择功能完善的RabbitMQ`。它的缺点就是用 Erlang 语言编写，所以很多开发人员很难去看懂源码并进行二次开发和维护，也就是说对于公司来说可能处于不可控的状态。

ActiveMQ 现在很少有人用，没怎么经过大规模吞吐量场景的考验，社区不怎么活跃，官方社区现在对 ActiveMQ 5.x 维护也越来越少，所以不推荐使用。

### 消息队列刷盘机制对比

![image-20230607221726455](https://jy-imgs.oss-cn-beijing.aliyuncs.com/img/20230607221727.png)